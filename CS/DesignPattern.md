# 디자인 패턴

## 싱글톤 패턴(Singleton Pattern)
- 특징
    - 하나의 클래스에 오직 하나의 인스턴스만 갖는 패턴
    - 보통 DB 연결 모듈에 많이 사용함
- 장점
    - 하나의 인스턴스를 만들고 해당 인스턴스를 다른 모듈들이 공유하며 사용하기 때문에 인스턴스 생성 비용이 줄어듦
- 단점
    - 의존성이 높아짐

<img src="./img/Singleton Code.png">

<br>

### 의존성 주입(Dependency Injection)
- 싱글톤 패턴은 사용하기 쉽고 굉장히 실용적이지만, 모듈 간의 결합을 강하게 만들 수 있음.
- 이때 DI를 이용하면 모듈간의 결합을 조금 더 느슨하게 만들 수 있음.


<br>

- 장점
    - 모듈들을 쉽게 교체할 수 있는 구조가 되어, 테스팅하기 쉽고 migration하기 수월함.
    - 구현할 때 추상화 layer를 넣어 이를 기반으로 구현체를 넣어 주기 때문에 application 의존성 방향이 일관되고 applicaiton을 쉽게 추론 할 수 있고, 모듈간의 관계가 조금 더 명확해짐

- 단점
    - 모듈들이 더욱 더 분리돼서 클래스 수가 늘어나서 복잡성이 증가 할 수 있음
    - 약간의 런타임 패널티가 생김.

### DI 원칙
- 상위모듈은 하위모듈에서 어떠한 것도 가져오지 않아야 함.
- 둘 다 추상화에 의존해야 하며, 추상화는 세부사항에 의존하지 말아야함
---

<br>

## 팩토리 패턴(Factory Pattern)
- 객체를 사용하는 코드에서 객체 생성 부분을 떼어내 추상화 한 패턴
- 상위 클래스가 중요한 뼈대를 결정
- 하위 클래스가 객체 생성에 관한 구체적인 내용을 결정하는 패턴

<img src="./img/Factory Code 1.png">
<img src="./img/Factory Code 2.png">
<img src="./img/Factory Code 3.png">
<img src="./img/Factory Code 4.png">

---

## 전략 패턴(strategy pattern)
- 정책 패턴(policy pattern) 이라고도 불림.
- 객체의 행위를 바꾸고 싶을 때 <b>직접</b> 수정하지 않고 전략이라고 부르는 '캡슐화 한 알고리즘'을 컨텍스트 안에서 바꾸면서 상호 교체가 가능하게 만드는 패턴