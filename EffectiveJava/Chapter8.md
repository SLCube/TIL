# 메소드

## item49 매개변수가 유효한지 검사하라

메소드와 생성자 대부분은 입력되는 매개변수 값이 특정조건을 만족하길 바란다. 이런 제약은 반드시 문서화를 해야하며 메소드 몸체가 시작되기전에 유효성 검사를 해야된다. 

메소드 몸체가 시작된 후에 유효성검사를 한다면 다음과 같은 문제가 발생한다.
1.  메소드 수행도중 모호한 예외를 던질 수 있다.
2. 혹은 메소드는 잘 수행됐지만 잘못된 값을 반환할 수 있다.
3. 제일 나쁜 케이스는 어떤 객체를 이상한 상태로 만들어 미래에 해당 메소드와 관련없는곳에서 예외를 터뜨릴수 있다.

자바 7부터는 java.util.Objects.requireNonNull 메소드를 제공해줘서 더이상 null체크를 수동으로 안해도 된다. 게다가 입력값을 그대로 반환해주니 사용하는 시점에서 바로 사용할 수 있다.

이러한 원칙에도 예외가 있는데 유효성 검사비용이 너무 높거나, 암묵적 유효성검사가 수행될 때이다.

예를들어 Collections.sort(List)처럼 리스트를 정렬하는 메소드가 있다하자. 리스트안의 모든 객체들은 서로 상호비교 될수 있어야하며, 정렬과정에서 비교가 이루어진다. 만약 타입이 다른 객체가 들어있다면 ClassCastException을 내뱉을것이다.

